"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[931],{5572:(e,t,s)=>{s.d(t,{C:()=>l,_:()=>r});const a="/api/",r=async e=>{let t,s=n();try{let r=await fetch(`${a}${e}`,{method:"GET",headers:s});t=await r.json()}catch(r){console.log(r),t={error:`Error has occured: ${r.message}`}}return t},l=async(e,t)=>{let s,r=n();try{let l=await fetch(`${a}${e}`,{method:"POST",headers:r,body:JSON.stringify(t)});s=await l.json()}catch(l){s=l}return s},n=()=>{const e=new Headers,t=JSON.parse(sessionStorage.getItem("customer"));return t?(e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t.token)):e.append("Content-Type","application/json"),e}},9931:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(9835),r=s(6970);const l={class:"text-center q-mt-md"},n=["src"],i=(0,a._)("div",{class:"text-h4 text-center q-mt-xs q-mb-md"},"Register",-1),d={class:"text-title2 text-center text-positive text-bold q-mt-sm"};function o(e,t,s,o,m,u){const p=(0,a.up)("q-avatar"),c=(0,a.up)("q-input"),w=(0,a.up)("q-btn"),f=(0,a.up)("q-form"),h=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",l,[(0,a.Wm)(p,{class:"q-mb-xs",size:"100px",rounded:""},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"/img/skyr.jpg"},null,8,n)])),_:1})]),i,(0,a._)("div",d,(0,r.zw)(o.state.status),1),(0,a.Wm)(h,{class:"q-ma-md q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{ref:"myForm",class:"q-gutter-md",greedy:"",onSubmit:o.register,onReset:o.resetFields},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{outlined:"",placeholder:"enter first name",id:"firstname",modelValue:o.state.firstname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.state.firstname=e),rules:[o.isRequired]},null,8,["modelValue","rules"]),(0,a.Wm)(c,{outlined:"",placeholder:"enter last name",id:"lastname",modelValue:o.state.lastname,"onUpdate:modelValue":t[1]||(t[1]=e=>o.state.lastname=e),rules:[o.isRequired]},null,8,["modelValue","rules"]),(0,a.Wm)(c,{outlined:"",placeholder:"enter email address",id:"email",modelValue:o.state.email,"onUpdate:modelValue":t[2]||(t[2]=e=>o.state.email=e),rules:[o.isRequired,o.isValidEmail]},null,8,["modelValue","rules"]),(0,a.Wm)(c,{outlined:"",placeholder:"enter password",id:"password",type:"password",modelValue:o.state.password,"onUpdate:modelValue":t[3]||(t[3]=e=>o.state.password=e),rules:[o.isRequired],autocomplete:"on"},null,8,["modelValue","rules"]),(0,a.Wm)(w,{label:"Register",type:"submit"}),(0,a.Wm)(w,{label:"Reset",type:"reset"})])),_:1},8,["onSubmit","onReset"])])),_:1})],64)}var m=s(499),u=s(5572);const p={setup(){let e=(0,m.qj)({status:"",email:"",password:"",firstname:"",lastname:""});const t=e=>{const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},s=e=>!!e||"field is required",a=async()=>{e.status="registering with server";let t={firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password};try{let s=await(0,u.C)("register",t);e.status=s.token}catch(s){e.status=s.message}},r=()=>{e.firstname="",e.lastname="",e.email="",e.password="",e.status=""};return{state:e,register:a,isValidEmail:t,isRequired:s,resetFields:r}}};var c=s(1639),w=s(1357),f=s(4458),h=s(8326),q=s(6611),g=s(4455),y=s(9984),V=s.n(y);const b=(0,c.Z)(p,[["render",o]]),v=b;V()(p,"components",{QAvatar:w.Z,QCard:f.Z,QForm:h.Z,QInput:q.Z,QBtn:g.Z})}}]);