"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[864],{5572:(t,e,a)=>{a.d(e,{C:()=>r,_:()=>s});const l="/api/",s=async t=>{let e,a=o();try{let s=await fetch(`${l}${t}`,{method:"GET",headers:a});e=await s.json()}catch(s){console.log(s),e={error:`Error has occured: ${s.message}`}}return e},r=async(t,e)=>{let a,s=o();try{let r=await fetch(`${l}${t}`,{method:"POST",headers:s,body:JSON.stringify(e)});a=await r.json()}catch(r){a=r}return a},o=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p:()=>s,x:()=>l});const l=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),s=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),l=e.getMonth()+1,s=e.getFullYear(),r=e.getHours(),o=e.getMinutes();return o<10&&(o="0"+o),s+"-"+l+"-"+a+" "+r+":"+o}},2864:(t,e,a)=>{a.r(e),a.d(e,{default:()=>B});var l=a(9835),s=a(6970);const r={class:"text-center"},o=["src"],d=(0,l._)("div",{class:"text-h4 q-mt-md text-accent text-bold"},"Order History",-1),c={class:"text-positive text-h6 q-mt-lg"},u=(0,l.Uk)("Order #"),n=(0,l.Uk)("Date"),m=["src"],i=(0,l.Uk)(" Name "),w=(0,l.Uk)(" Quantities"),f=(0,l.Uk)(" Extended"),p=(0,l.Uk)("S"),x=(0,l.Uk)("O"),g=(0,l.Uk)("B"),_=(0,l.Uk)("Sub:"),W=(0,l.Uk)(" Tax(13%): "),h=(0,l.Uk)("Total:");function k(t,e,a,k,y,q){const U=(0,l.up)("q-avatar"),b=(0,l.up)("q-item-label"),D=(0,l.up)("q-item-section"),S=(0,l.up)("q-item"),O=(0,l.up)("q-list"),z=(0,l.up)("q-card"),v=(0,l.up)("q-btn"),C=(0,l.up)("q-card-actions"),Q=(0,l.up)("q-card-section"),Z=(0,l.up)("q-dialog"),$=(0,l.up)("q-page"),A=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l.Wm)(U,{class:"q-mt-md",size:"90px",rounded:""},{default:(0,l.w5)((()=>[(0,l._)("img",{src:"/img/skyr.jpg"},null,8,o)])),_:1}),d,(0,l._)("div",c,(0,s.zw)(k.state.status),1)]),(0,l.Wm)($,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"q-ma-sm text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{highlight:"",separator:"","stripped-odd":""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"text-h5 text-accent text-bold"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[u])),_:1})])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[n])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.state.orders,(t=>((0,l.wg)(),(0,l.j4)(S,{clickable:"",key:t.id,onClick:e=>k.selectOrder(t.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-6"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.id),1)])),_:2},1024),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatDate(t.orderDate)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,l.Wm)(Z,{modelValue:k.state.selectedAOrder,"onUpdate:modelValue":e[0]||(e[0]=t=>k.state.selectedAOrder=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{style:{width:"95vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(v,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[A]])])),_:1}),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"text-h5 text-bold text-accent text-center"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Order "+(0,s.zw)(k.state.orderDetails[0].orderId),1)])),_:1})])),_:1}),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"text-h7 text-center q-mt-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatDate(k.state.orderDetails.orderDate)),1)])),_:1})])),_:1}),(0,l.Wm)(Q,{class:"q-pa-none text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"q-mt-xs",size:"xl",square:""},{default:(0,l.w5)((()=>[(0,l._)("img",{src:"/img/basket.png"},null,8,m)])),_:1})])),_:1}),(0,l.Wm)(Q,{class:"q-mb-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"text-accent q-ma-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-4 text-bold text-left"},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(D,{class:"col-4 text-bold text-center q-pr-lg"},{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(D,{class:"col-4 text-bold text-right"},{default:(0,l.w5)((()=>[f])),_:1})])),_:1}),(0,l.Wm)(O,{separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"text-accent text-bold",style:{"margin-top":"-3vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-4"}),(0,l.Wm)(D,{class:"col-1"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(D,{class:"col-1"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(D,{class:"col-1"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(D,{class:"col-3"})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.state.orderDetails,(t=>((0,l.wg)(),(0,l.j4)(S,{key:t.indexOf},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"text-left col-4"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.productName),1)])),_:2},1024),(0,l.Wm)(D,{class:"text-left col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.qtySold),1)])),_:2},1024),(0,l.Wm)(D,{class:"text-left col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.qtyOrdered),1)])),_:2},1024),(0,l.Wm)(D,{class:"text-left col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.qtyBackOrdered),1)])),_:2},1024),(0,l.Wm)(D,{class:"text-right col-3.5"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatCurrency(t.sellingPrice*t.qtySold)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-8 text-right text-bold"},{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(D,{class:"text-right col-4 q-pr-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatCurrency(k.state.orderDetails[0].orderAmount)),1)])),_:1})])),_:1}),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-8 text-right text-bold"},{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(D,{class:"text-right col-4 q-pr-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatCurrency(.13*k.state.orderDetails[0].orderAmount)),1)])),_:1})])),_:1}),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"col-8 text-right text-bold text-primary"},{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(D,{class:"text-right col-4 q-pr-md text-bold text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.formatCurrency(1.13*k.state.orderDetails[0].orderAmount)),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q,{class:"text-center text-positive text-h6 q-mb-xs q-mt-lg q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(k.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})],64)}var y=a(499),q=a(5572),U=a(7081);const b={setup(){let t=(0,y.qj)({status:"",dialogStatus:"",selectedAOrder:!1,orders:[],orderDetails:[],orderSelected:{},total:0});(0,l.bv)((()=>{e()}));const e=async()=>{try{let e=JSON.parse(sessionStorage.getItem("customer"));const a=await(0,q._)(`order/${e.email}`);void 0===a.error?(t.orders=a,t.status=`loaded ${t.orders.length} orders`):t.status=a.error}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},a=async e=>{try{let a=JSON.parse(sessionStorage.getItem("customer"));const l=await(0,q._)(`order/${e}/${a.email}`);t.orderDetails=l,t.dialogStatus=`details for order ${e}`,t.selectedAOrder=!0,t.orderSelected=t.orders.find((t=>t.id===e))}catch(a){console.log(a),t.status=`Error has occured: ${a.message}`}};return{state:t,formatDate:U.p,selectOrder:a,formatCurrency:U.x}}};var D=a(1639),S=a(1357),O=a(9885),z=a(4458),v=a(3246),C=a(490),Q=a(1233),Z=a(3115),$=a(7743),A=a(1821),j=a(4455),I=a(3190),H=a(2146),N=a(9984),T=a.n(N);const E=(0,D.Z)(b,[["render",k]]),B=E;T()(b,"components",{QAvatar:S.Z,QPage:O.Z,QCard:z.Z,QList:v.Z,QItem:C.Z,QItemSection:Q.Z,QItemLabel:Z.Z,QDialog:$.Z,QCardActions:A.Z,QBtn:j.Z,QCardSection:I.Z}),T()(b,"directives",{ClosePopup:H.Z})}}]);