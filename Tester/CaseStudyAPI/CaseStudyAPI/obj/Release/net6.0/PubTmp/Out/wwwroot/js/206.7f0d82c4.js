"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[206],{5572:(e,t,a)=>{a.d(t,{C:()=>d,_:()=>l});const s="/api/",l=async e=>{let t,a=r();try{let l=await fetch(`${s}${e}`,{method:"GET",headers:a});t=await l.json()}catch(l){console.log(l),t={error:`Error has occured: ${l.message}`}}return t},d=async(e,t)=>{let a,l=r();try{let d=await fetch(`${s}${e}`,{method:"POST",headers:l,body:JSON.stringify(t)});a=await d.json()}catch(d){a=d}return a},r=()=>{const e=new Headers,t=JSON.parse(sessionStorage.getItem("customer"));return t?(e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t.token)):e.append("Content-Type","application/json"),e}},7081:(e,t,a)=>{a.d(t,{p:()=>l,x:()=>s});const s=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),l=e=>{let t;t=void 0===e?new Date:new Date(Date.parse(e));let a=t.getDate(),s=t.getMonth()+1,l=t.getFullYear(),d=t.getHours(),r=t.getMinutes();return r<10&&(r="0"+r),l+"-"+s+"-"+a+" "+d+":"+r}},4206:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var s=a(9835),l=a(6970);const d={class:"text-center q-mt-lg"},r=["src"],o=(0,s._)("div",{class:"text-h3 text-lime-9"},"SKYR BRANDS",-1),c={class:"text-deep-orange-10 q-mt-lg text-bold"},n={key:1,class:"text-h6 text-bold text-center text-teal-6"},i=["src"],u={class:"text-center q-mt-lg"},m=["src"],p={class:"text-subtitle text-center text-lime-9 text-h5"},g={class:"text-subtitle2 text-justify"},w={class:"row"},h={class:"col-2 q-mr-sm"},b={class:"col-4 q-mr-sm"},y={class:"col-3"};function f(e,t,a,f,k,q){const _=(0,s.up)("q-avatar"),v=(0,s.up)("q-select"),x=(0,s.up)("q-item-section"),S=(0,s.up)("q-item"),I=(0,s.up)("q-list"),B=(0,s.up)("q-card"),P=(0,s.up)("q-scroll-area"),W=(0,s.up)("q-btn"),$=(0,s.up)("q-card-actions"),C=(0,s.up)("q-card-section"),Q=(0,s.up)("q-input"),Z=(0,s.up)("q-dialog"),j=(0,s.up)("q-page"),z=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(j,null,{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Wm)(_,{class:"q-mb-md",size:"120px",rounded:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/skyr.jpg"},null,8,r)])),_:1}),o,(0,s._)("div",c,(0,l.zw)(f.state.status),1),f.state.brands.length>0?((0,s.wg)(),(0,s.j4)(v,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",modelValue:f.state.selectedBrandId,"onUpdate:modelValue":[t[0]||(t[0]=e=>f.state.selectedBrandId=e),t[1]||(t[1]=e=>f.loadProductitems())],options:f.state.brands,label:"Select a Brand","emit-value":"","map-options":""},null,8,["modelValue","options"])):(0,s.kq)("",!0),f.state.productitems.length>0?((0,s.wg)(),(0,s.iD)("div",n,(0,l.zw)(f.state.selectedBrand.name)+" ITEMS ",1)):(0,s.kq)("",!0),(0,s.Wm)(P,{style:{height:"55vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.state.productitems,(e=>((0,s.wg)(),(0,s.j4)(S,{key:e.id,clickable:"",onClick:t=>f.selectProductItem(e.id)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{style:{height:"90px",width:"90px"},square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/img/${e.graphicName}`},null,8,i)])),_:2},1024)])),_:2},1024),(0,s.Wm)(x,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.description),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})]),(0,s.Wm)(Z,{modelValue:f.state.itemSelected,"onUpdate:modelValue":t[5]||(t[5]=e=>f.state.itemSelected=e),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)($,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(W,{flat:"",label:"X",color:"dark",class:"text-h5"},null,512),[[z]])])),_:1}),(0,s._)("div",u,[(0,s.Wm)(_,{class:"q-mb-md",size:"180px",rounded:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/img/${f.state.selectedProductItem.graphicName}`},null,8,m)])),_:1})]),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s._)("div",p,(0,l.zw)(f.state.selectedProductItem.productName)+" - "+(0,l.zw)(f.formatCurrency(f.state.selectedProductItem.msrp)),1)])),_:1}),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s._)("div",g,(0,l.zw)(f.state.selectedProductItem.description),1)])),_:1}),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s._)("div",h,[(0,s.Wm)(Q,{modelValue:f.state.qty,"onUpdate:modelValue":t[2]||(t[2]=e=>f.state.qty=e),modelModifiers:{number:!0},type:"number",filled:"",style:{"max-width":"15vw"},placeholder:"qty",hint:"Qty",dense:""},null,8,["modelValue"])]),(0,s._)("div",b,[(0,s.Wm)(W,{color:"light-green-10",label:"Add To Basket",disable:f.state.qty<0,onClick:t[3]||(t[3]=e=>f.addToBasket())},null,8,["disable"])]),(0,s._)("div",y,[(0,s.Wm)(W,{color:"primary",label:"View Basket",disable:f.state.basket.length<1,onClick:t[4]||(t[4]=e=>f.viewBasket())},null,8,["disable"])])])])),_:1}),(0,s.Wm)(C,{class:"text-center text-deep-orange-10 text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(f.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var k=a(7081),q=a(499),_=a(5572),v=a(8910);const x={setup(){(0,s.bv)((()=>{a()}));const e=(0,v.tv)();let t=(0,q.qj)({status:"",brands:[],productitems:[],selectedBrand:{},selectedBrandId:"",selectedProductItem:{},dialogStatus:"",itemSelected:!1,qty:0,basket:[]});const a=async()=>{try{t.status="loading brands...";const e=await(0,_._)("Brands");void 0===e.error?(t.brands=e,t.status=`loaded ${t.brands.length} brands`):t.status=e.error}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},l=async()=>{try{t.selectedBrand=t.brands.find((e=>e.id===t.selectedBrandId)),t.status=`finding productitems for brand ${t.selectedBrand}...`,t.productitems=await(0,_._)(`Productitem/${t.selectedBrand.id}`),t.status=`loaded ${t.productitems.length} product items for ${t.selectedBrand.name}`}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},d=async e=>{try{t.selectedProductItem=t.productitems.find((t=>t.id===e)),t.itemSelected=!0,t.dialogStatus="",sessionStorage.getItem("basket")&&(t.basket=JSON.parse(sessionStorage.getItem("basket")))}catch(a){console.log(a),t.status=`Error has occured: ${a.message}`}},r=()=>{let e=-1;t.basket.length>0&&(e=t.basket.findIndex((e=>e.id===t.selectedProductItem.id))),t.qty>0?(-1===e?t.basket.push({id:t.selectedProductItem.id,qty:t.qty,item:t.selectedProductItem}):t.basket[e]={id:t.selectedProductItem.id,qty:t.qty,item:t.selectedProductItem},t.dialogStatus=`${t.qty} item(s) added`):(-1!==e&&t.basket.splice(e,1),t.dialogStatus="item(s) removed"),sessionStorage.setItem("basket",JSON.stringify(t.basket)),t.qty=0},o=()=>{e.push("basket")};return{state:t,loadProductitems:l,selectProductItem:d,formatCurrency:k.x,addToBasket:r,viewBasket:o}}};var S=a(1639),I=a(9885),B=a(1357),P=a(4363),W=a(1019),$=a(4458),C=a(3246),Q=a(490),Z=a(1233),j=a(7743),z=a(1821),V=a(4455),D=a(3190),N=a(6611),T=a(2146),U=a(9984),A=a.n(U);const E=(0,S.Z)(x,[["render",f]]),O=E;A()(x,"components",{QPage:I.Z,QAvatar:B.Z,QSelect:P.Z,QScrollArea:W.Z,QCard:$.Z,QList:C.Z,QItem:Q.Z,QItemSection:Z.Z,QDialog:j.Z,QCardActions:z.Z,QBtn:V.Z,QCardSection:D.Z,QInput:N.Z}),A()(x,"directives",{ClosePopup:T.Z})}}]);